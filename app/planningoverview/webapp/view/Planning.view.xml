<mvc:View controllerName="planningoverview.planningoverview.controller.Planning"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:unified="sap.ui.unified">
    <Page id="page"
        title="{i18n>title}"
        busy="{calendar>/busy}"
        busyIndicatorDelay="0">
        <content>
            <Toolbar>
                <Title text="{i18n>hourViewDescription}" level="H4"/>
                <Button text="Color key" type="Transparent" icon="sap-icon://legend" press=".onOpenLegend"/>
                <ToolbarSpacer />
                <Select selectedKey="{calendar>/viewMode}" change=".onModeChange" width="8rem">
                    <items>
                        <core:Item key="day" text="By day"/>
                        <core:Item key="stage" text="By stage"/>
                    </items>
                </Select>
                <Select selectedKey="{calendar>/selectionKey}" change=".onSelectionChange" width="12rem" items="{calendar>/selectionOptions}">
                    <items>
                        <core:Item key="{calendar>key}" text="{calendar>text}"/>
                    </items>
                </Select>
            </Toolbar>
            <PlanningCalendar
                id="festivalPlanning"
                startDate="{calendar>/startDate}"
                viewKey="{calendar>/currentViewKey}"
                showEmptyIntervalHeaders="false"
                appointmentSelect=".onAppointmentSelect"
                rows="{path: 'calendar>/visibleRows'}">
                <views>
                    <PlanningCalendarView
                        description="{i18n>hourViewDescription}"
                        key="hourView"
                        intervalType="Hour"
                        intervalsS="{calendar>/intervalCount}"
                        intervalsM="{calendar>/intervalCount}"
                        intervalsL="{calendar>/intervalCount}" />
                    <PlanningCalendarView
                        description="Days"
                        key="dayRange"
                        intervalType="Day"
                        intervalsS="{calendar>/dayCount}"
                        intervalsM="{calendar>/dayCount}"
                        intervalsL="{calendar>/dayCount}" />
                </views>
                <rows>
                    <PlanningCalendarRow
                        title="{calendar>title}"
                        text="{calendar>subtitle}"
                        appointments="{calendar>appointments}">
                        <appointments>
                            <unified:CalendarAppointment
                                startDate="{calendar>startDate}"
                                endDate="{calendar>endDate}"
                                title="{calendar>artist}"
                                text="{calendar>timeRange}"
                                type="{calendar>type}"
                                icon="{calendar>icon}" />
                        </appointments>
                    </PlanningCalendarRow>
                </rows>
            </PlanningCalendar>
        </content>
    </Page>
</mvc:View>
